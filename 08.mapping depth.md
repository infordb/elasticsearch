#  Object 와 Nested
https://esbook.kimjmin.net/07-settings-and-mappings/7.2-mappings/7.2.5-object-nested

## Object (index.mapping.depth.limit)
https://www.elastic.co/guide/en/elasticsearch/reference/master/mapping-settings-limit.html


## depth 란

### depth = 1

```

POST /movie/_doc/1
{
  "name":"Game of throne 1",
  "year": 2020,
  "genre": "action"
}
```

### depth = 2
```
PUT movie/_doc/2
{
  "characters": {
    "name": "Iron Man",
    "age": 46,
    "side": "superhero"
  }
}
```

### depth = 3

```
PUT movie/_doc/3
{
  "characters": {
    "name": "Iron Man",
    "age": 46,
    "side2": { "a" :"superhero",
               "b" :"b"
           }
  }
}
```

## depth 설정 변경

주의 사항 : 기존에 입력된 field의 depth는 영향 안받는다.    
기존에 characters field의 depth가 2 였다면, 아래와 같이 1로 변경해도 계속해서 depth 2로 사용한다.    
설정 변경 후 신규 field에 대해서만 적용된다. 
```
PUT movie/_settings
{
  "index.mapping.depth.limit": 1
}
```




